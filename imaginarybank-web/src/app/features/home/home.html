<div class="p-4 flex flex-column gap-3">

  <p-card header="Sesión">
    <div class="flex justify-content-between align-items-center">
      <div>
        <div class="text-600 text-sm">OIDC Subject</div>
        <div class="font-medium">{{ (session$ | async)?.subject_id_oidc }}</div>

        <div class="mt-2 text-600 text-sm">Customer</div>
        <div class="font-medium">{{ (session$ | async)?.customer_id || '-' }}</div>

        <div class="mt-2 text-600 text-sm">Roles</div>
        <div class="font-medium">{{ ((session$ | async)?.roles || []).join(', ') }}</div>

        <div class="mt-2 text-600 text-sm">Estado</div>
        <div class="font-medium">{{ (session$ | async)?.user_status }}</div>
      </div>

      <button pButton type="button" label="Cerrar sesión" (click)="logout()"></button>
    </div>
  </p-card>

  <p-card header="Cuentas">
    <p-table [value]="(accounts$ | async)?.accounts || []" [paginator]="false" responsiveLayout="scroll">
      <ng-template pTemplate="header">
        <tr>
          <th>ID</th>
          <th>Producto</th>
          <th>Moneda</th>
          <th>Estado</th>
          <th>Disponible</th>
          <th>Ledger</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-a>
        <tr>
          <td>{{ a.id }}</td>
          <td>{{ a.product_type }}</td>
          <td>{{ a.currency }}</td>
          <td>{{ a.status }}</td>
          <td>{{ a.balances?.available }}</td>
          <td>{{ a.balances?.ledger }}</td>
        </tr>
      </ng-template>
    </p-table>
  </p-card>

</div>
